" PATHOGEN
execute pathogen#infect()
call pathogen#helptags()

" VARIABLES
let g:gitgutter_override_sign_column_highlight=0
let g:airline_section_z="%l : %v"
let g:airline_powerline_fonts=1
let g:airline_theme="wal"
let g:airline_left_sep=""
let g:airline_left_alt_sep="│"
let g:airline_right_alt_sep="│"
let g:airline_right_sep=""
let g:airline#extensions#tabline#enabled=1
let g:NERDTreeDirArrowExpandable="→"
let g:NERDTreeDirArrowCollapsible="↓"
let g:NERDTreeIgnore = [
  \ "node_modules",
  \ "^\.git$",
  \ "venv",
  \ "\.pyc$",
  \ "\.sw[po]$",
  \ "\.egg-info$",
  \ ]
let g:NERDTreeShowHidden=1
let g:ctrlp_cmd="CtrlP"
let g:ctrlp_working_path_mode="ra"
let g:ctrlp_show_hidden=1
let g:ctrlp_custom_ignore = {
  \ 'dir':  '\.git$\|\.yardoc\|node_modules\|log\|tmp$\|venv',
  \ 'file': '\.so$\|\.dat$|\.DS_Store$|\.pyc$'
  \ }

if !exists("g:syntax_on")
  syntax enable
endif

" THEMING
colorscheme delek
hi Normal guibg=NONE ctermbg=NONE

hi Special ctermbg=none
hi NonText ctermbg=none
hi LineNr ctermbg=none ctermfg=white
hi CursorLine cterm=none ctermbg=0
hi SignColumn ctermbg=none
hi Folded ctermbg=none cterm=none
hi Comment cterm=ITALIC ctermfg=8
hi ErrorMsg cterm=none ctermbg=0
hi StatusLine ctermbg=black cterm=none
hi StatusLineNC ctermbg=black cterm=none
hi MatchParen ctermbg=cyan ctermfg=black

" SETTINGS
filetype indent on

set encoding=utf-8
set nocompatible
set relativenumber nu cursorline
set ts=2 sw=2 expandtab autoindent smartindent
set foldmethod=indent nofoldenable
set autoread
set list lcs=trail:·
set incsearch
set hidden
set wildignore+=*/tmp/*,*.so,*.swp,*.zip
set directory=$HOME/.vim/swp

" Return to the same line you left off at
augroup line_return
  au!
  au BufReadPost *
    \ if line("'\"") > 0 && line("'\"") <= line("$") |
    \ execute 'normal! g`"zvzz' |
    \ endif
augroup END

" KEYBINDINGS
let mapleader=" "

nnoremap j gj
nnoremap k gk

nnoremap <S-Tab> <<
nnoremap <Tab> >>
inoremap <S-Tab> <C-d>

nnoremap <leader>s :so %<CR>
nnoremap <leader>w :w<CR>
nnoremap <leader>q :q<CR>
nnoremap <leader>Q :q!<CR>
nnoremap <leader>p :CtrlP<CR>
nnoremap <leader>o :ls<CR>:b<Space>
nnoremap <leader>v :vsplit<CR>
nnoremap <leader>n :split<CR>
nnoremap <leader><Del> :bdel<CR>
nnoremap <leader>gs :Gstatus<CR>
nnoremap <leader>gc :Gcommit<CR>
nnoremap <leader>h :bprev<CR>
nnoremap <leader>l :bnext<CR>

nnoremap <C-n> :NERDTreeToggle<CR>
nnoremap \p <Plug>GitGutterPreviewHunk
nnoremap \r <Plug>GitGutterUndoHunk:echomsg ' hr is deprecated. Use  hu'<CR>
nnoremap \u <Plug>GitGutterUndoHunk
nnoremap \s <Plug>GitGutterStageHunk

autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTree") && b:NERDTree.isTabTree()) | q | endif
